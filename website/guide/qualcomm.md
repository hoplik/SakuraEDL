# 高通 EDL 模式教程

## 概述

高通 EDL (Emergency Download) 模式是高通芯片的紧急下载模式，通过 Sahara 协议加载 Firehose Loader，然后使用 Firehose 协议进行分区读写操作。

## 支持的芯片

| 系列 | 芯片型号 |
|------|----------|
| Snapdragon 8 | SM8750, SM8650, SM8550, SM8475, SM8450, SM8350, SM8250, SM8150 |
| Snapdragon 7 | SM7550, SM7475, SM7450, SM7325, SM7250 |
| Snapdragon 6 | SM6450, SM6375, SM6350, SM6225, SM6150 |
| Snapdragon 4 | SM4450, SM4375, SM4350, SM4250 |

## 进入 EDL 模式

### 方法一：组合键（推荐）

1. 完全关机
2. 同时按住 **音量+** + **音量-**
3. 保持按住，插入 USB 数据线
4. 等待电脑识别设备

### 方法二：ADB 命令

```bash
adb reboot edl
```

### 方法三：Fastboot 命令

```bash
fastboot oem edl
# 或
fastboot reboot emergency
```

### 方法四：测试点短接

部分设备需要短接主板上的 EDL 测试点，请搜索具体机型的测试点位置。

## 验证连接

设备管理器中应显示：
- `Qualcomm HS-USB QDLoader 9008` (COM端口)

## 使用 SakuraEDL

### 1. 选择 Qualcomm 平台

打开 SakuraEDL，点击 **Qualcomm** 选项卡。

### 2. 选择 Loader

**方式一：云端自动匹配（推荐）**
- 选择 "云端自动匹配"
- 软件会根据设备信息自动下载对应 Loader

**方式二：本地选择**
- 选择 "本地选择"
- 点击浏览选择 Loader 文件 (.elf/.mbn)

### 3. 连接设备

1. 让设备进入 EDL 模式
2. 软件自动检测并显示设备信息：
   - MSM ID (芯片型号)
   - PK Hash (公钥哈希)
   - Serial Number (序列号)

### 4. 刷写分区

1. 点击 **选择文件** 添加要刷写的镜像
2. 选择目标分区
3. 点击 **开始刷写**
4. 等待完成

## 认证说明

### 小米设备

小米设备需要进行 Mi Auth 认证：
1. 选择带有 `[小米]` 标签的 Loader
2. 认证会自动执行
3. 认证成功后可正常操作

### 一加/OPPO 设备

一加/OPPO 设备需要 OPLUS 认证：
1. 选择带有 `[oplus]` 标签的 Loader
2. 勾选 `oplus` 选项
3. 认证会自动执行

### VIP 认证设备

部分设备需要 VIP 认证（需要 digest + sign 文件）：
1. 选择带有 `[VIP]` 标签的 Loader
2. 系统自动下载认证文件
3. 认证自动执行

## 常用操作

### 刷写单个分区

1. 选择分区（如 `boot`, `recovery`）
2. 选择对应镜像文件
3. 点击刷写

### 刷写多个分区

1. 加载 `rawprogram.xml` 文件
2. 选择要刷写的分区
3. 点击开始

### 读取分区（备份）

1. 选择要备份的分区
2. 点击 **读取分区**
3. 选择保存位置

### 擦除分区

1. 选择要擦除的分区
2. 点击 **擦除分区**
3. 确认操作

## 常见问题

### Q: 设备不识别？

1. 检查驱动是否安装
2. 尝试更换 USB 端口/数据线
3. 检查是否正确进入 EDL 模式

### Q: Loader 加载失败？

1. 确认 Loader 与设备匹配
2. 尝试使用云端自动匹配
3. 检查设备是否需要认证

### Q: 认证失败？

1. 确认选择了正确的认证类型
2. 检查网络连接
3. 尝试重新连接设备

## 注意事项

::: warning 警告
- 刷写前请备份重要数据
- 确保电池电量充足 (>50%)
- 不要随意刷写未知来源的文件
- 某些分区刷写错误可能导致变砖
:::

::: danger 危险分区
以下分区刷写需谨慎：
- `xbl` / `xbl_config` - 引导程序
- `abl` - 安卓引导
- `tz` - TrustZone
- `hyp` - Hypervisor
- `devcfg` - 设备配置
:::
