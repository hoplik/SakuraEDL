# MTK 联发科教程

## 概述

MTK (MediaTek) 平台使用 BROM (Boot ROM) + DA (Download Agent) 模式进行刷机操作。SakuraEDL 支持传统 DA 协议和新版 XFlash 协议。

## 支持的芯片

| 系列 | 芯片型号 |
|------|----------|
| 天玑 9000 | MT6983, MT6985 |
| 天玑 8000 | MT6895, MT6896 |
| 天玑 1000 | MT6885, MT6889, MT6893 |
| 天玑 800 | MT6873, MT6875, MT6877 |
| 天玑 700 | MT6833, MT6853 |
| Helio G | MT6765, MT6768, MT6769, MT6785 |
| Helio P | MT6762, MT6763, MT6771 |
| 其他 | MT6739, MT6761, MT6757 |

## 进入 BROM 模式

### 方法一：组合键

1. 完全关机
2. 取出电池（如可拆卸）
3. 按住 **音量+** 或 **音量-**（视机型而定）
4. 保持按住，插入 USB 数据线
5. 等待电脑识别

### 方法二：测试点

部分设备需要短接 BROM 测试点进入下载模式。

## 验证连接

设备管理器中应显示：
- `MediaTek USB Port` (COMx)
- 或 `MediaTek PreLoader USB VCOM`

## 使用 SakuraEDL

### 1. 选择 MTK 平台

打开 SakuraEDL，点击 **MediaTek** 选项卡。

### 2. DA 文件

软件内置了常用 DA 文件，也支持自定义：
- 点击 **选择 DA** 加载自定义 DA 文件
- 或使用内置 DA（推荐）

### 3. 连接设备

1. 点击 **连接** 按钮
2. 让设备进入 BROM 模式
3. 软件自动检测并显示：
   - HW Code (芯片型号)
   - HW Version
   - SW Version

### 4. 操作选项

#### 读取分区

1. 选择要读取的分区
2. 点击 **读取**
3. 选择保存位置

#### 刷写分区

1. 选择分区和镜像文件
2. 点击 **刷写**
3. 等待完成

#### 格式化

1. 选择要格式化的分区
2. 点击 **格式化**
3. 确认操作

## Scatter 文件

MTK 设备通常使用 scatter 文件描述分区布局：

```
MT6765_Android_scatter.txt
```

### 加载 Scatter

1. 点击 **加载 Scatter**
2. 选择 scatter 文件
3. 分区列表自动显示

## 常见操作

### 刷写完整固件

1. 加载 scatter 文件
2. 选择所有需要刷写的分区
3. 点击 **下载**

### 仅刷写 Boot

1. 选择 `boot` 分区
2. 选择 `boot.img` 文件
3. 点击刷写

### 备份 NVRAM

1. 选择 `nvram` 分区
2. 点击 **读取**
3. 保存备份文件

::: warning 重要
NVRAM 包含 IMEI 等重要信息，刷机前务必备份！
:::

## XFlash 模式

新款 MTK 芯片使用 XFlash 协议：

### 特点

- 二进制协议，速度更快
- 支持更多安全特性
- 部分设备强制使用

### 使用方法

1. 软件自动检测协议类型
2. XFlash 设备会自动使用 XFlash 协议
3. 操作方式与传统模式相同

## 常见问题

### Q: 无法进入 BROM 模式？

1. 检查是否完全关机
2. 尝试取出电池重试
3. 检查音量键是否正常
4. 尝试短接测试点

### Q: DA 加载失败？

1. 检查 DA 文件是否匹配芯片
2. 尝试使用其他 DA 文件
3. 检查驱动是否正确安装

### Q: 认证失败？

部分设备需要 SLA 认证：
1. 确认设备是否需要认证
2. 联系支持获取认证文件

## 注意事项

::: warning 警告
- 刷机前备份 NVRAM 和 重要数据
- 确保使用正确的固件版本
- 不要随意刷写 `preloader` 分区
- 刷机过程中不要断开连接
:::

::: danger 危险分区
- `preloader` - 预加载程序，刷错会变砖
- `nvram` - 包含 IMEI，丢失无法恢复
- `protect1/2` - 保护分区
- `seccfg` - 安全配置
:::
